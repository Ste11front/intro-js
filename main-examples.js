/// scrivere una funzione che dato un array di numeri
/// li eleva al quadrato e rimuove i negativi;

// const testArray = [2, -12, 0, 27, 4, -3, 12, 1, -1];

// function squareAllAndRemoveNegatives(arr){
//     const onlyPositiveArray = arr.filter( el => el >= 0);
//     //console.log("ðŸš€ ~ squareAllAndRemoveNegatives ~ filteredArray:", filteredArray);
//     const squaredArray = onlyPositiveArray.map( el => el ** 2 );
//     //console.log("ðŸš€ ~ squareAllAndRemoveNegatives ~ mappedArray:", mappedArray)
//     return squaredArray;
// }

// function squareAllAndRemoveNegatives2(arr){
//     return arr.filter( el => el >= 0 )
//               .map( el => el ** 2 );
// }


// function squareAllAndRemoveNegatives3(arr){
    
//     const accumulator = [];

//     for (const number of arr) {
        
//         if ( number >= 0) {
//           const newNumber = number ** 2
//           accumulator.push(newNumber);  
//         }

//     }

//     return accumulator;
// }

// function squareAllAndRemoveNegatives4(arr){
    
//     return arr.reduce((acc, curr)=> {
//         if ( curr >= 0) {
//             const newNumber = curr ** 2
//             acc.push(newNumber);
//             return acc;
//         }
//         return acc;
//     }, []);

//     //return arr.reduce((a, c) => c >= 0 ? [...a, c ** 2] : a, []);
// }

// console.log(squareAllAndRemoveNegatives4(testArray));


// // scrivi una funzione che dato un array di numeri
// // somma tutti quelli divisibili per 3;

// function sumAllDivisibleByThree(arr) {

//     const divisibleBy3Array = arr.filter(el => el % 3 === 0);
//     const sum = divisibleBy3Array.reduce((acc, curr) => acc + curr, 0);

//     return sum;
    
// }

// function sumAllDivisibleByThree1(arr) {
//     return arr.filter( el => el % 3 === 0 )
//               .reduce((acc, curr) => acc + curr, 0)
// }

// function sumAllDivisibleByThree2(arr){
    
//     let accumulator = 0;

//     for (const number of arr) {
        
//         if( number % 3 === 0 ){
//             accumulator = accumulator + number;
//         }

//     }

//     return accumulator;
// }

// function sumAllDivisibleByThree4(arr){
    
//     return arr.reduce((acc, curr) => {
//         if( curr % 3 === 0 ){
//             acc = acc + curr;
//         }
//         return acc;
//     }, 0);

// }


// console.log(sumAllDivisibleByThree4(testArray));


// data una stringa di elementi separati da virgole
// convertire gli elementi in numeri,
// togliere quelli che non sono numeri
// e sommare i numeri tra loro

// const testString = '2000,10,pippo,345,-234,ciambella,2,,'

// function convertToNumbersAndSumAll(str){
//     const stringArray = str.split(',');
//     console.log("ðŸš€ ~ convertToNumbersAndSumAll ~ stringArray:", stringArray);
//     const numbersArray = stringArray.map(el => parseFloat(el));
//     console.log("ðŸš€ ~ convertToNumbersAndSumAll ~ numbersArray:", numbersArray)

//     function isANumber(element){
//         if (isNaN(element)) {
//             return false;
//         } else {
//             return true;
//         }
//     }

//     const onlyNumbersArray = numbersArray.filter(isANumber);
//     // const onlyNumbersArray = numbersArray.filter(el => {
//     //     if (isNaN(el)) {
//     //         return false;
//     //     } else {
//     //         return true;
//     //     }
//     // })
//     //const onlyNumbersArray = numbersArray.filter(el => !isNaN(el));
//     console.log("ðŸš€ ~ convertToNumbersAndSumAll ~ onlyNumbersArray:", onlyNumbersArray);

//     const sum = onlyNumbersArray.reduce((acc, curr) => acc + curr, 0);

//     return sum;
    
// }


// function convertToNumbersAndSumAll2(str){
//     return str.split(',')
//               .map(el => parseFloat(el))
//               .filter(el => !isNaN(el))
//               .reduce((acc, curr) => acc + curr, 0);
// }


// function convertToNumbersAndSumAll3(str){

//     const stringArray = str.split(',')
    
//     let accumulator = 0;

//     for (const str of stringArray) {
        
//         const number = parseFloat(str);
//         if (!isNaN(number)) {
//             accumulator = accumulator + number;
//         }


//     }

//     return accumulator;
// }

// function convertToNumbersAndSumAll4(str){

//     return str.split(',').reduce((acc, curr) => {
//         const number = parseFloat(curr);
//         if (!isNaN(number)) {
//             acc = acc + number;
//         }
//         return acc;
//     },0);

//     // return str.split(',')
//     //           .reduce((a, c) => !isNaN(parseFloat(c)) ? a + parseFloat(c) : a, 0);
// }


// console.log(convertToNumbersAndSumAll4(testString));


//1)  Dato un array di stringhe, 
//   eliminare tutte quelle che non contengono la lettera p
//   e ritornare la somma delle lunghezze delle rimanenti

const test1 = ['pippo', 'pluto', 'qui', 'quo', 'qua', 'paperone'];

//v1
function onlyContainsPSum(arr) {
    const onlyContainsP = arr.filter(el => el.toLowerCase().includes('p'));
    const stringsLengthArray = onlyContainsP.map(el => el.length);
    const stringsLengthArraySum = stringsLengthArray.reduce((acc, curr) => acc + curr, 0);
    return stringsLengthArraySum;
} 
console.log(onlyContainsPSum(test1));

//v2
function onlyContainsPSum(arr) {
    return arr.filter(el => el.toLowerCase()
    .includes('p')).map(el => el.length)
    .reduce((acc, curr) => acc + curr, 0);
} 
console.log(onlyContainsPSum(test1));

//v3
function onlyContainsPSum(arr){
    const acc = [];
    for (const element of arr) {
        if (element.toLowerCase().includes('p')) {
          const sum = element.length;
          acc.push(sum);  
        }

    }
    return acc.reduce((acc, curr) => acc + curr, 0);
}
console.log(onlyContainsPSum(test1));

//v4

//2) Dato un array di numeri, moltiplicarli per il loro indice
//   rimuovere quelli maggiori di 1000
//   e restituirli in formato stringa, separati da punto e virgola

const test2 = [100, 10, 24, -20, 300, 6, 100, 300];

//v1
function result(arr) {
    const prima = arr.map((num, index) => num * index);
    const seconda = prima.filter(num => num <= 1000);
    const terza = seconda.reduce((acc, curr) => acc + ';' + curr);
    return terza;
} 
console.log(result(test2));

//v2
function result(arr) {
    return arr.map((num, index) => num * index)
    .filter(num => num <= 1000)
    .reduce((acc, curr) => acc + ';' + curr);
}    
console.log(result(test2));

//v3
function result(arr){
    const acc = [];
    for (let i = 0; i < arr.length; i++) {
        const num = arr[i] * i;
        if (num <= 1000) {
            acc.push(num);
        }
    }
    return acc.reduce((acc, curr) => acc + ';' + curr);
}
console.log(result(test2));

//v4

//3) Data una stringa, eliminare tutte le parole piÃ¹ corte di 4 caratteri
//   e restituirle in un array ordinate per lunghezza dalla piÃ¹ lunga

const test3 = 'ho fatto il bucato ieri sera ma si Ã¨ colorato tutto di violetto';

//v1
function parole(arr) {
    const prima = arr.split(' ');
    const seconda = prima.filter(parola => parola.length >= 4);
    const terza = seconda.sort((a, b) => b.length - a.length);
    return terza;
} 
console.log(parole(test3));

//v2
function parole(arr) {
return arr.split(' ')
.filter(parola => parola.length >= 4)
.sort((a, b) => b.length - a.length);
}
console.log(parole(test3));

//v3
const element = test3.split(' ');
const paroleLunghe = [];
for (let i = 0; i < element.length; i++) {
  if (element[i].length >= 4) {
    paroleLunghe.push(element[i]);
  }
}
paroleLunghe.sort((a, b) => b.length - a.length);
console.log(paroleLunghe);

//v4

// cap 4
function sum(numbers){
    return numbers.reduce((acc, curr) => acc + curr, 0);
}
console.log();

// cap4 es 2

const testArray = ['io', 'me', 'medesimo'];

function reverseArray(arr) {
    const tempArray = [];
    for (let i = arr.length - 1; i >= 0; i--) {
        const element = arr[i];
        tempArray.push(element);
    }
    return tempArray;
}

const newArray = reverseArray(testArray);
console.log(newArray);
console.log(testArray);